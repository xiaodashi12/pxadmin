{"remainingRequest":"/Users/cjg/Vue/pxadmin/node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!/Users/cjg/Vue/pxadmin/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!/Users/cjg/Vue/pxadmin/node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!/Users/cjg/Vue/pxadmin/src/components/common/CustomLayout.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cjg/Vue/pxadmin/src/components/common/CustomLayout.vue","mtime":1620554580917},{"path":"/Users/cjg/Vue/pxadmin/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cjg/Vue/pxadmin/node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/cjg/Vue/pxadmin/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cjg/Vue/pxadmin/node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getLocationSearchObj } from '@/utils/common.js';\nexport default {\n  namne: 'CustomLayout',\n  props: {\n    title: String,\n    subTitle: String,\n    thirdTitle: String,\n    fixedBottom: Boolean\n  },\n  data: function data() {\n    return {\n      fromType: false\n    };\n  },\n  methods: {\n    init: function init() {\n      var params = getLocationSearchObj(); // this.fromType = params.from == 1 ? false : true // 判断是否隐藏左侧菜单 true是不隐藏  false的隐藏\n    },\n    goBack: function goBack() {\n      if (this.$router) {\n        // this.$router.go(-1)\n        this.$router.back();\n      }\n\n      this.$emit('back');\n    },\n    watchScroll: function watchScroll() {\n      var _this = this;\n\n      var last_known_scroll_position = 0;\n      var ticking = false;\n      var direction = 1;\n\n      if (!this.$el.querySelector) {\n        return;\n      }\n\n      var elem = this.$el.querySelector('.page-content');\n\n      var handler = function handler(e) {\n        if (elem.scrollTop > last_known_scroll_position) {\n          direction = 1;\n        } else {\n          direction = -1;\n        }\n\n        last_known_scroll_position = elem.scrollTop;\n\n        if (!ticking) {\n          window.requestAnimationFrame(function () {\n            _this.$emit('scroll', {\n              scrollTop: last_known_scroll_position,\n              clientHeight: elem.clientHeight,\n              scrollHeight: elem.scrollHeight,\n              direction: direction\n            });\n\n            ticking = false;\n          });\n        }\n\n        ticking = true;\n      };\n\n      elem.addEventListener('scroll', handler, {\n        passive: true\n      });\n      this.$on('hook:beforeDestroy', function () {\n        elem.removeEventListener('scroll', handler, {\n          passive: true\n        });\n      });\n    },\n    setPaginationStyle: function setPaginationStyle() {\n      var _this2 = this;\n\n      if (!this.$el.querySelector) {\n        return;\n      }\n\n      var elem = this.$el.querySelector('.page-content');\n\n      var handler = function handler(options) {\n        if (options.scrollTop + options.clientHeight > options.scrollHeight - 16) {\n          var pagination = _this2.$el.querySelector('.custom-panel--sticky .custom-pagination');\n\n          if (pagination) {\n            pagination.classList.add('custom-pagination--no-shadow');\n          }\n        } else {\n          var _pagination = _this2.$el.querySelector('.custom-panel--sticky .custom-pagination');\n\n          if (_pagination) {\n            _pagination.classList.remove('custom-pagination--no-shadow');\n          }\n        }\n      };\n\n      this.$on('scroll', handler);\n      this.$parent.$on('hook:updated', function () {\n        handler({\n          scrollTop: elem.scrollTop,\n          clientHeight: elem.clientHeight,\n          scrollHeight: elem.scrollHeight\n        });\n      });\n    }\n  },\n  mounted: function mounted() {\n    this.watchScroll();\n    this.setPaginationStyle();\n  },\n  created: function created() {\n    this.init();\n  }\n};",{"version":3,"sources":["CustomLayout.vue"],"names":[],"mappings":"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","sourcesContent":["<!--\n * @Description: 出现滚动条修改最大高度\n * @Author: yuhong\n * @Date: 2019-09-10 08:45:33\n -->\n<template>\n  <div class=\"page\">\n    <div class=\"page-head\" v-if=\"fromType\">\n      <div class=\"page-head__title\">\n        <span v-if=\"!subTitle\">{{ title }}</span>\n        <el-breadcrumb separator=\"/\" v-else>\n          <el-breadcrumb-item>\n            <div @click=\"goBack\" class=\"previous-route\">\n              {{ title && title.length > 4 ? `${title.substring(0, 4)}...` : title }}\n            </div>\n          </el-breadcrumb-item>\n          <el-breadcrumb-item> {{ subTitle }}</el-breadcrumb-item>\n          <el-breadcrumb-item v-if=\"thirdTitle\">{{\n            thirdTitle\n          }}</el-breadcrumb-item>\n        </el-breadcrumb>\n      </div>\n      <div class=\"page-head__toolbox\">\n        <slot name=\"toolbox\"></slot>\n      </div>\n    </div>\n    <el-scrollbar class=\"page-content\" :class=\"{ 'page-content--have-fixed-bottom': fixedBottom,\n      'page-content--fromType' : !fromType }\">\n      <slot></slot>\n      <!-- <div class=\"page-logo\"></div> -->\n    </el-scrollbar>\n  </div>\n</template>\n\n<script>\nimport { getLocationSearchObj } from '@/utils/common.js'\n\nexport default {\n  namne: 'CustomLayout',\n  props: {\n    title: String,\n    subTitle: String,\n    thirdTitle: String,\n    fixedBottom: Boolean\n  },\n  data () {\n    return {\n      fromType: false\n    }\n  },\n  methods: {\n    init() {\n      let params = getLocationSearchObj()\n      // this.fromType = params.from == 1 ? false : true // 判断是否隐藏左侧菜单 true是不隐藏  false的隐藏\n    },\n    goBack () {\n      if (this.$router) {\n        // this.$router.go(-1)\n        this.$router.back()\n      }\n      this.$emit('back')\n    },\n    watchScroll () {\n      let last_known_scroll_position = 0\n      let ticking = false\n      let direction = 1\n      if (!this.$el.querySelector) {\n        return\n      }\n      let elem = this.$el.querySelector('.page-content')\n      let handler = e => {\n        if (elem.scrollTop > last_known_scroll_position) {\n          direction = 1\n        } else {\n          direction = -1\n        }\n        last_known_scroll_position = elem.scrollTop\n        if (!ticking) {\n          window.requestAnimationFrame(() => {\n            this.$emit('scroll', {\n              scrollTop: last_known_scroll_position,\n              clientHeight: elem.clientHeight,\n              scrollHeight: elem.scrollHeight,\n              direction: direction\n            })\n            ticking = false\n          })\n        }\n        ticking = true\n      }\n      elem.addEventListener('scroll', handler, {\n        passive: true\n      })\n      this.$on('hook:beforeDestroy', () => {\n        elem.removeEventListener('scroll', handler, {\n          passive: true\n        })\n      })\n    },\n    setPaginationStyle () {\n      if (!this.$el.querySelector) {\n        return\n      }\n      let elem = this.$el.querySelector('.page-content')\n      let handler = options => {\n        if (\n          options.scrollTop + options.clientHeight >\n            options.scrollHeight - 16\n        ) {\n          let pagination = this.$el.querySelector(\n            '.custom-panel--sticky .custom-pagination'\n          )\n          if (pagination) {\n            pagination.classList.add('custom-pagination--no-shadow')\n          }\n        } else {\n          let pagination = this.$el.querySelector(\n            '.custom-panel--sticky .custom-pagination'\n          )\n          if (pagination) {\n            pagination.classList.remove('custom-pagination--no-shadow')\n          }\n        }\n      }\n      this.$on('scroll', handler)\n      this.$parent.$on('hook:updated', () => {\n        handler({\n          scrollTop: elem.scrollTop,\n          clientHeight: elem.clientHeight,\n          scrollHeight: elem.scrollHeight\n        })\n      })\n    }\n  },\n  mounted () {\n    this.watchScroll()\n    this.setPaginationStyle()\n  },\n  created() {\n    this.init()\n  }\n}\n\n</script>\n\n<style scoped lang=\"less\">\n  .page {\n    min-height: calc(100vh - 60px);\n    height: calc(100vh - 60px);\n  }\n\n  .page-head {\n    display: flex;\n    background-color: #fff;\n    height: 60px;\n    padding: 0 24px;\n    z-index: 2;\n    border-bottom: 1px solid #dcdfe6;\n    position: relative;\n    box-sizing: border-box;\n  }\n\n  .page-head__title {\n    color: #303133;\n    font-size: 16px;\n    line-height: 60px;\n  }\n\n  .page-head__toolbox {\n    text-align: right;\n    flex-grow: 1;\n    padding-top: 14px;\n  }\n\n  .page-content {\n    padding: 12px;\n    background-color: #f2f2f2;\n    box-sizing: border-box;\n    height: calc(100vh - 60px);\n    overflow: hidden;\n  }\n  .page-content--fromType { // 当from为1时  去掉padding和 改变height\n    height: calc(100vh - 60px);\n  }\n\n  .page-content--have-fixed-bottom {\n    /* padding-bottom: 72px; */\n    max-height: calc(100vh - 116px);\n  }\n  .page-content--fromType.page-content--have-fixed-bottom {\n    max-height: calc(100vh - 56px) !important;\n  }\n\n  .page-head__toolbox i.iconfont {\n    font-size: 22px;\n    vertical-align: middle;\n    cursor: pointer;\n  }\n\n  .previous-route {\n    font-weight: 700;\n    text-decoration: none;\n    transition: color 0.2s cubic-bezier(0.645, 0.045, 0.355, 1);\n    color: #303133;\n    cursor: pointer;\n    display: inline-block;\n  }\n\n  .previous-route:hover {\n    color: #409eff;\n  }\n\n  /deep/ .el-scrollbar__wrap {\n    overflow-x: hidden;\n    overflow-y: auto;\n    margin-right: 0 !important;\n  }\n\n  /deep/ .el-breadcrumb {\n    line-height: 60px;\n  }\n\n  /deep/.el-scrollbar__view {\n    height: 100%;\n  }\n\n  .page-logo {\n    height: 52px;\n  }\n</style>\n<style>\n.page-content--fromType .fixed-bottom-buttons {\n  left: 0;\n}\n</style>\n"],"sourceRoot":"src/components/common"}]}